{
  "code": "var Point = laya.maths.Point;\r\nimport { QipanKuang, Qipan } from \"./QipanKuang\";\r\nimport { FKConfig } from \"./FKConfig\";\r\nimport { CommonUnitis } from \"./CommonUnitis\";\r\nexport class LbxQipan {\r\n    constructor() {\r\n        this.liubianxingH = 28;\r\n        this.liubianxingA = 32.5;\r\n        this._frameList = [];\r\n        this.posList = FKConfig.Default.posList;\r\n    }\r\n    get frameList() { return this._frameList; }\r\n    static get Default() {\r\n        if (this._default == null)\r\n            this._default = new LbxQipan();\r\n        return this._default;\r\n    }\r\n    init(box_qipan, box_bian) {\r\n        this.box_qipan = box_qipan;\r\n        this.box_bian = box_bian;\r\n        if (box_qipan.numChildren > 60)\r\n            return;\r\n        let tagQipan = new Qipan();\r\n        for (let i = 0, index = 0; i < this.posList.length; i++) {\r\n            let count = this.posList[i].count;\r\n            let pos = this.posList[i].srcPos;\r\n            for (let j = 0; j < count; j++) {\r\n                let img = new QipanKuang();\r\n                img.name = \"QipanKuang\" + index;\r\n                box_qipan.addChild(img);\r\n                this._frameList.push(img);\r\n                img.x = pos.x - (j * this.liubianxingH);\r\n                img.y = pos.y + (j * this.liubianxingA * 1.5);\r\n                img.localX = img.x + box_qipan.x;\r\n                img.localY = img.y + box_qipan.y;\r\n                let localPos = CommonUnitis.localToGlobal(img);\r\n                tagQipan.kuangPoint = localPos;\r\n                let imgBian = new laya.ui.Image();\r\n                imgBian.name = \"QipanBian\" + index;\r\n                imgBian.skin = \"lbx/pics/kuangLiang.png\";\r\n                imgBian.visible = false;\r\n                box_bian.addChild(imgBian);\r\n                imgBian.pos(img.x - 14, img.y - 10);\r\n                img.FKindex = index;\r\n                index++;\r\n            }\r\n        }\r\n        box_qipan.tag = tagQipan;\r\n        for (let i = 0; i < box_qipan.numChildren; i++) {\r\n            let lbx = box_qipan.getChildAt(i);\r\n            let pos = new Point();\r\n            pos.x = lbx.x;\r\n            pos.y = lbx.y;\r\n            var point = lbx.localToGlobal(pos);\r\n        }\r\n    }\r\n}\r\n",
  "references": [
    "E:/layaGame/LayaLbx/src/game/QipanKuang.ts",
    "E:/layaGame/LayaLbx/src/game/FKConfig.ts",
    "E:/layaGame/LayaLbx/src/game/CommonUnitis.ts"
  ]
}
